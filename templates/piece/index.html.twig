{% extends 'base.html.twig' %}

{% block title %}CritX > {{category}}{% endblock %}

{% block body %}

<div>
    <h1>All {{category}} critics<sup>({{category.pieces|length}})</sup></h1>
    <a href="{{ path('new_piece')}}">Add a Piece</a><br>
    <a href="{{ path('new_critic')}}">Add a Critic</a>
    <hr>
    {% for piece in category.pieces %}
        <h2><a href="{{ path('show_critics', {'id': piece.id})}}">{{piece}}</a></h2>

        <p><u>Maker</u> : {{piece.maker}}</p>
        
        {% if piece.isUpcoming %}
            <p><u>Release date</u> : {{piece.releaseDateENG|date("Y") }} (Upcoming)</p>
        {% else %}
            <p><u>Release date</u> : {{piece.releaseDateENG}}</p>
        {% endif %}

        {% if piece.critics|length > 0 %}
            <p><u>Critic score</u> : {{ piece.criticTotalScore }}/10</p>
        {% endif %}
    {% endfor %}
</div>
            
{% endblock %}
            
    


